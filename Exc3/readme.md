# Анализ текущей архитектуры.

**ins-comp-settlement**

Сервис ходит в **ins-product-aggregator** раз в сутки, но все равно сталкивается с ошибками из-за нестабильности АПИ страховых компаний.
При увеличении количества страховых компаний - стабильность скорее всего будет ухудшаться.
К тому же сервису не нужны новые данные о тарифах, так как он используется для генерации отчетов по историческим данным, 
а использование обновленных данных может исказить результаты. 
По этой же причине сервису нет необходимости запрашивать данные из **core-app** и нагружать сервис.


**ins-product-aggregator**

Слабое звено в текущей реализации так как зависит от надежности страховых компаний, которые мы не контролируем.
В связи с увеличением числа страховых компаний, вероятность ошибок увеличится. 
Поэтому необходимо научить сервис отдавать данные даже в случае недоступности части страховых компаний.
Так же посмотреть в сторону кэширования данных, если это не противоречит бизнес требованиям.


**core-app**

При росте компании и числа страховых может возникнуть проблема с производительностью сервиса при выгрузке данных со стороны **ins-comp-settlement**.
Это не точно, но если при отдаче ответа в **ins-comp-settlement**, приложение ходит **ins-product-aggregator** - то у нас еще большие проблемы.